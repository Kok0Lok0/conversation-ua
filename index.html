<!DOCTYPE html>

<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è –¥—Ä—É–∑—ñ–≤</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Work+Sans:wght@400;500&display=swap');

```
:root {
  --bg-dark: #0f172a;
  --bg-gradient-start: #1e293b;
  --bg-gradient-end: #0f172a;
  --text-light: #f1f5f9;
  --text-gold: #fbbf24;
  --accent-red: #dc2626;
  --accent-green: #16a34a;
  --accent-gold: #f59e0b;
  --accent-white: #f8fafc;
  --shadow: rgba(0, 0, 0, 0.3);
  --glow-red: rgba(220, 38, 38, 0.4);
  --glow-green: rgba(22, 163, 74, 0.4);
  --glow-gold: rgba(251, 191, 36, 0.4);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Work Sans', sans-serif;
  background: linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  color: var(--text-light);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

/* Snowflakes animation */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(2px 2px at 20% 30%, white, transparent),
    radial-gradient(2px 2px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent),
    radial-gradient(1px 1px at 80% 10%, white, transparent),
    radial-gradient(2px 2px at 90% 60%, white, transparent),
    radial-gradient(1px 1px at 33% 80%, white, transparent),
    radial-gradient(1px 1px at 15% 90%, white, transparent);
  background-size: 200% 200%;
  background-position: 0% 0%;
  animation: snowfall 20s linear infinite;
  opacity: 0.6;
  pointer-events: none;
  z-index: 1;
}

/* Falling snowflakes */
body::after {
  content: '‚ùÑ';
  position: fixed;
  top: -50px;
  left: 0;
  right: 0;
  font-size: 20px;
  color: white;
  opacity: 0.8;
  animation: snowDrift 15s linear infinite;
  pointer-events: none;
  z-index: 1;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
}

@keyframes snowfall {
  0% {
    background-position: 0% 0%, 0% 0%, 0% 0%;
  }
  100% {
    background-position: 100% 100%, -100% 100%, 50% 100%;
  }
}

@keyframes snowDrift {
  0% {
    transform: translateY(-50px) translateX(0px);
  }
  100% {
    transform: translateY(100vh) translateX(100px);
  }
}

.container {
  max-width: 500px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Christmas lights decoration */
.container::before {
  content: 'üî¥ üü¢ üî¥ üü° üî¥ üü¢ üî¥ üü° üî¥ üü¢';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 24px;
  padding: 10px;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(10px);
  border-bottom: 2px solid var(--accent-gold);
  z-index: 100;
  animation: lightsGlow 2s ease-in-out infinite alternate;
}

@keyframes lightsGlow {
  0% {
    filter: brightness(1);
  }
  100% {
    filter: brightness(1.5);
  }
}

.header {
  text-align: center;
  margin-bottom: 30px;
  margin-top: 60px;
  animation: bounceIn 0.6s ease-out;
  position: relative;
  z-index: 2;
}

.header h1 {
  font-family: 'Poppins', sans-serif;
  font-size: 2.5rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-red) 0%, var(--accent-gold) 50%, var(--accent-green) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 30px var(--glow-gold);
  margin-bottom: 10px;
  filter: drop-shadow(0 0 20px var(--glow-red));
  animation: glow 3s ease-in-out infinite alternate;
}

@keyframes glow {
  0% {
    filter: drop-shadow(0 0 20px var(--glow-red)) drop-shadow(0 0 30px var(--glow-gold));
  }
  50% {
    filter: drop-shadow(0 0 30px var(--glow-green)) drop-shadow(0 0 40px var(--glow-gold));
  }
  100% {
    filter: drop-shadow(0 0 20px var(--glow-red)) drop-shadow(0 0 30px var(--glow-gold));
  }
}

.header p {
  font-size: 1.2rem;
  color: var(--text-gold);
  opacity: 0.9;
}

.card-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1000px;
  position: relative;
  margin-bottom: 40px;
  z-index: 2;
}

.question-card {
  width: 100%;
  max-width: 380px;
  min-height: 400px;
  background: linear-gradient(135deg, rgba(220, 38, 38, 0.1) 0%, rgba(22, 163, 74, 0.1) 100%);
  backdrop-filter: blur(10px);
  border: 3px solid var(--accent-gold);
  border-radius: 30px;
  padding: 40px 30px;
  box-shadow: 
    0 20px 60px var(--shadow),
    0 0 40px var(--glow-gold),
    inset 0 0 30px rgba(251, 191, 36, 0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  cursor: grab;
  user-select: none;
  transition: transform 0.1s ease;
  transform-origin: center center;
  animation: cardFloat 4s ease-in-out infinite;
}

/* Christmas ornaments on corners */
.question-card::before {
  content: 'üî¥';
  position: absolute;
  top: -15px;
  left: -15px;
  font-size: 30px;
  animation: ornamentSpin 4s linear infinite;
  filter: drop-shadow(0 0 10px var(--glow-red));
}

.question-card::after {
  content: 'üü¢';
  position: absolute;
  top: -15px;
  right: -15px;
  font-size: 30px;
  animation: ornamentSpin 4s linear infinite reverse;
  filter: drop-shadow(0 0 10px var(--glow-green));
}

@keyframes cardFloat {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes ornamentSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Sparkles around the card */
@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

.card-container::before,
.card-container::after {
  content: '‚ú®';
  position: absolute;
  font-size: 30px;
  animation: sparkle 3s ease-in-out infinite;
  pointer-events: none;
}

.card-container::before {
  top: 10%;
  left: 10%;
  animation-delay: 0s;
}

.card-container::after {
  bottom: 10%;
  right: 10%;
  animation-delay: 1.5s;
}

.question-card.dragging {
  cursor: grabbing;
  animation: none;
}

.question-number {
  font-family: 'Poppins', sans-serif;
  font-size: 1.2rem;
  color: var(--accent-gold);
  margin-bottom: 20px;
  font-weight: 600;
  text-shadow: 0 0 10px var(--glow-gold);
}

.question-text {
  font-family: 'Poppins', sans-serif;
  font-size: 1.5rem;
  line-height: 1.6;
  color: var(--text-light);
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}

.swipe-indicators {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 30px;
  pointer-events: none;
  z-index: 10;
}

.swipe-label {
  font-family: 'Poppins', sans-serif;
  font-size: 3rem;
  font-weight: 700;
  opacity: 0;
  transition: opacity 0.2s ease;
  text-shadow: 0 0 20px currentColor;
}

.swipe-label.dislike {
  color: var(--accent-red);
  transform: rotate(-20deg);
  filter: drop-shadow(0 0 10px var(--glow-red));
}

.swipe-label.like {
  color: var(--accent-green);
  transform: rotate(20deg);
  filter: drop-shadow(0 0 10px var(--glow-green));
}

.swipe-label.visible {
  opacity: 1;
}

.instructions {
  text-align: center;
  margin-bottom: 20px;
  animation: fadeIn 1s ease-out 0.5s both;
  position: relative;
  z-index: 2;
}

.instructions p {
  font-size: 1.1rem;
  color: var(--text-gold);
  opacity: 0.8;
  margin-bottom: 10px;
}

.swipe-icons {
  display: flex;
  justify-content: center;
  gap: 60px;
  margin-top: 10px;
}

.swipe-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.swipe-icon:hover {
  transform: scale(1.1);
}

.swipe-icon:active {
  transform: scale(0.95);
}

.swipe-icon-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  border: 3px solid;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.swipe-icon:hover .swipe-icon-circle {
  box-shadow: 0 0 30px currentColor;
  transform: rotate(10deg);
}

.swipe-icon.dislike .swipe-icon-circle {
  border-color: var(--accent-red);
  color: var(--accent-red);
  box-shadow: 0 0 20px var(--glow-red);
}

.swipe-icon.like .swipe-icon-circle {
  border-color: var(--accent-green);
  color: var(--accent-green);
  box-shadow: 0 0 20px var(--glow-green);
}

.swipe-icon span {
  font-family: 'Poppins', sans-serif;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-light);
}

.stats {
  text-align: center;
  margin-top: 20px;
  padding: 15px;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(10px);
  border: 2px solid var(--accent-gold);
  border-radius: 20px;
  box-shadow: 0 4px 20px var(--shadow), 0 0 30px var(--glow-gold);
  animation: fadeIn 1s ease-out 0.7s both;
  position: relative;
  z-index: 2;
}

.stats p {
  font-size: 1rem;
  color: var(--text-light);
  opacity: 0.9;
  margin-bottom: 10px;
}

.stats button {
  display: inline-block;
  margin: 5px;
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes cardExit {
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.card-exit {
  animation: cardExit 0.3s ease-out forwards;
}

@media (max-width: 480px) {
  .header h1 {
    font-size: 2rem;
  }
  
  .question-text {
    font-size: 1.3rem;
  }
  
  .question-card {
    min-height: 350px;
    padding: 30px 20px;
  }
  
  .swipe-label {
    font-size: 2.5rem;
  }
}
```

  </style>
</head>
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>

  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // Initial question pool with categories
    const initialQuestions = [
      { text: "–Ø–∫–∞ —Ç–≤–æ—è –Ω–∞–π–±–µ–∑–≥–ª—É–∑–¥—ñ—à–∞ –º—Ä—ñ—è?", category: "dreams" },
      { text: "–©–æ –± —Ç–∏ –∑–º—ñ–Ω–∏–≤ —É —Å–≤–æ—î–º—É –∂–∏—Ç—Ç—ñ, —è–∫–±–∏ –º—ñ–≥?", category: "life" },
      { text: "–Ø–∫–∏–π –±—É–≤ —Ç–≤—ñ–π –Ω–∞–π—Å–º—ñ–ª–∏–≤—ñ—à–∏–π –≤—á–∏–Ω–æ–∫?", category: "experiences" },
      { text: "–©–æ —Ç–µ–±–µ —Å–ø—Ä–∞–≤–¥—ñ –ª—è–∫–∞—î?", category: "fears" },
      { text: "–Ø–∫—É —Å—É–ø–µ—Ä—Å–∏–ª—É —Ç–∏ –± —Ö–æ—Ç—ñ–≤ –º–∞—Ç–∏ —ñ —á–æ–º—É?", category: "dreams" },
      { text: "–Ø–∫–∏–π –º–æ–º–µ–Ω—Ç –∑—ñ —Å–≤–æ–≥–æ –º–∏–Ω—É–ª–æ–≥–æ —Ç–∏ –± —Ö–æ—Ç—ñ–≤ –ø–µ—Ä–µ–∂–∏—Ç–∏ –∑–Ω–æ–≤—É?", category: "memories" },
      { text: "–©–æ –¥–ª—è —Ç–µ–±–µ –æ–∑–Ω–∞—á–∞—î —Å–ø—Ä–∞–≤–∂–Ω—è –¥—Ä—É–∂–±–∞?", category: "relationships" },
      { text: "–Ø–∫–∞ –∫–Ω–∏–≥–∞ —á–∏ —Ñ—ñ–ª—å–º –∑–º—ñ–Ω–∏–ª–∏ —Ç–≤—ñ–π –ø–æ–≥–ª—è–¥ –Ω–∞ —Å–≤—ñ—Ç?", category: "culture" },
      { text: "–ü—Ä–æ —â–æ —Ç–∏ –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –º—Ä—ñ—è—î—à?", category: "dreams" },
      { text: "–Ø–∫–∏–π –Ω–∞–π—Ü—ñ–Ω–Ω—ñ—à–∏–π —É—Ä–æ–∫ —Ç–∏ –æ—Ç—Ä–∏–º–∞–≤ –≤—ñ–¥ –Ω–µ–≤–¥–∞—á—ñ?", category: "growth" },
      { text: "–©–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ç–æ–±—ñ –Ω–∞–π–±—ñ–ª—å—à–µ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –≤ –∂–∏—Ç—Ç—ñ?", category: "happiness" },
      { text: "–Ø–∫–±–∏ —Ç–∏ –º—ñ–≥ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ –∑ —Å–æ–±–æ—é –≤ –º–∏–Ω—É–ª–æ–º—É, —â–æ –± —Ç–∏ –ø–æ—Ä–∞–¥–∏–≤?", category: "wisdom" },
      { text: "–Ø–∫–µ —Ç–≤–æ—î –Ω–∞–π—è—Å–∫—Ä–∞–≤—ñ—à–µ –¥–∏—Ç—è—á–µ —Å–ø–æ–≥–∞–¥?", category: "memories" },
      { text: "–©–æ —Ä–æ–±–∏—Ç—å —Ç–µ–±–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º?", category: "identity" },
      { text: "–Ø–∫–æ—é –ª—é–¥–∏–Ω–æ—é —Ç–∏ —Ö–æ—á–µ—à —Å—Ç–∞—Ç–∏ —á–µ—Ä–µ–∑ 10 —Ä–æ–∫—ñ–≤?", category: "future" },
      { text: "–©–æ —Ç–µ–±–µ –Ω–∞–¥–∏—Ö–∞—î –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏, –∫–æ–ª–∏ –≤–∞–∂–∫–æ?", category: "motivation" },
      { text: "–Ø–∫–∏–π –Ω–∞–π–∫—Ä–∞—â–∏–π –∫–æ–º–ø–ª—ñ–º–µ–Ω—Ç —Ç–∏ –∫–æ–ª–∏-–Ω–µ–±—É–¥—å –æ—Ç—Ä–∏–º—É–≤–∞–≤?", category: "relationships" },
      { text: "–©–æ —Ç–∏ –± –∑—Ä–æ–±–∏–≤, —è–∫–±–∏ –∑–Ω–∞–≤, —â–æ –Ω–µ –∑–∞–∑–Ω–∞—î—à –Ω–µ–≤–¥–∞—á—ñ?", category: "courage" },
      { text: "–Ø–∫–∞ —Ç–≤–æ—è —Ç–∞—î–º–Ω–∞ –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç—å?", category: "interests" },
      { text: "–Ø–∫–∏–π –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –≤–∏–±—ñ—Ä —Ç–∏ –∫–æ–ª–∏-–Ω–µ–±—É–¥—å —Ä–æ–±–∏–≤?", category: "decisions" },
      { text: "–©–æ –∑–º—É—à—É—î —Ç–µ–±–µ –ø–æ—á—É–≤–∞—Ç–∏—Å—è –∂–∏–≤–∏–º?", category: "emotions" },
      { text: "–Ø–∫–±–∏ —É —Ç–µ–±–µ –±—É–≤ –æ–¥–∏–Ω –¥–µ–Ω—å –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å, —è–∫ –±–∏ —Ç–∏ –π–æ–≥–æ –ø—Ä–æ–≤—ñ–≤?", category: "dreams" },
      { text: "–Ø–∫–∞ —Ç—Ä–∞–¥–∏—Ü—ñ—è —á–∏ –∑–≤–∏—á–∫–∞ –Ω–∞–π–±—ñ–ª—å—à–µ —Ç–æ–±—ñ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è?", category: "culture" },
      { text: "–©–æ —Ç–µ–±–µ –¥–∏–≤—É—î –≤ –ª—é–¥—è—Ö?", category: "observations" },
      { text: "–Ø–∫–∏–π –Ω–∞–π–¥–æ–±—Ä—ñ—à–∏–π –≤—á–∏–Ω–æ–∫ —Ö—Ç–æ—Å—å –∫–æ–ª–∏-–Ω–µ–±—É–¥—å –∑—Ä–æ–±–∏–≤ –¥–ª—è —Ç–µ–±–µ?", category: "kindness" },
      { text: "–ü—Ä–æ —â–æ —Ç–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—à–∫–æ–¥—É—î—à?", category: "values" },
      { text: "–Ø–∫–∞ –ø–æ–¥—ñ—è –Ω–∞–π–±—ñ–ª—å—à–µ –≤–ø–ª–∏–Ω—É–ª–∞ –Ω–∞ —Ç–µ, –∫–∏–º —Ç–∏ —î —Å—å–æ–≥–æ–¥–Ω—ñ?", category: "growth" },
      { text: "–©–æ –± —Ç–∏ —Ö–æ—Ç—ñ–≤, —â–æ–± –ª—é–¥–∏ –∑–Ω–∞–ª–∏ –ø—Ä–æ —Ç–µ–±–µ?", category: "identity" },
      { text: "–Ø–∫–∏–π —Ç–∞–ª–∞–Ω—Ç —Ç–∏ –± —Ö–æ—Ç—ñ–≤ —Ä–æ–∑–≤–∏–Ω—É—Ç–∏?", category: "aspirations" },
      { text: "–©–æ –¥–ª—è —Ç–µ–±–µ –æ–∑–Ω–∞—á–∞—î —É—Å–ø—ñ—Ö?", category: "values" },
      { text: "–Ø–∫–µ –º—ñ—Å—Ü–µ –Ω–∞ –ø–ª–∞–Ω–µ—Ç—ñ —Ç–∏ –º—Ä—ñ—î—à –≤—ñ–¥–≤—ñ–¥–∞—Ç–∏?", category: "travel" },
      { text: "–©–æ —Ä–æ–±–∏—Ç—å —Ç–µ–±–µ —â–∞—Å–ª–∏–≤–∏–º –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑?", category: "happiness" },
      { text: "–Ø–∫–∏–π —É—Ä–æ–∫ —Ç–∏ —Ö–æ—Ç—ñ–≤ –±–∏ –ø–µ—Ä–µ–¥–∞—Ç–∏ —ñ–Ω—à–∏–º?", category: "wisdom" },
      { text: "–©–æ —Ç–µ–±–µ –Ω–∞–π–±—ñ–ª—å—à–µ —Ö–≤–∏–ª—é—î —â–æ–¥–æ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ?", category: "future" },
      { text: "–Ø–∫—É –ø—ñ—Å–Ω—é —Ç–∏ –± –æ–±—Ä–∞–≤ —è–∫ —Å–∞—É–Ω–¥—Ç—Ä–µ–∫ —Å–≤–æ–≥–æ –∂–∏—Ç—Ç—è?", category: "culture" },
      { text: "–©–æ —Ç–∏ —Ü—ñ–Ω—É—î—à —É —Å–æ–±—ñ –Ω–∞–π–±—ñ–ª—å—à–µ?", category: "self" },
      { text: "–Ø–∫–∏–π –Ω–∞–π–¥–∏–≤–Ω—ñ—à–∏–π –¥–æ—Å–≤—ñ–¥ —É —Ç–µ–±–µ –±—É–≤?", category: "experiences" },
      { text: "–©–æ –± —Ç–∏ —Ö–æ—Ç—ñ–≤ —Å–∫–∞–∑–∞—Ç–∏ –ª—é–¥–∏–Ω—ñ, —è–∫–∞ —Ç–æ–±—ñ –≤–∞–∂–ª–∏–≤–∞?", category: "relationships" },
      { text: "–Ø–∫–∞ —Ç–≤–æ—è –Ω–∞–π–±—ñ–ª—å—à–∞ –ø–µ—Ä–µ–º–æ–≥–∞ –Ω–∞–¥ —Å–æ–±–æ—é?", category: "growth" },
      { text: "–©–æ –∑–º—É—à—É—î —Ç–µ–±–µ —Å–º—ñ—è—Ç–∏—Å—è –¥–æ —Å–ª—ñ–∑?", category: "humor" }
    ];

    function App() {
      const [questions, setQuestions] = useState([]);
      const [currentIndex, setCurrentIndex] = useState(0);
      const [likes, setLikes] = useState(0);
      const [dislikes, setDislikes] = useState(0);
      const [preferences, setPreferences] = useState({});
      const [isDragging, setIsDragging] = useState(false);
      const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });
      const [swipeDirection, setSwipeDirection] = useState(null);
      
      const cardRef = useRef(null);
      const startPosRef = useRef({ x: 0, y: 0 });

      // Initialize questions
      useEffect(() => {
        const shuffled = [...initialQuestions].sort(() => Math.random() - 0.5);
        setQuestions(shuffled);
        
        // Load preferences from localStorage
        const saved = localStorage.getItem('questionPreferences');
        if (saved) {
          setPreferences(JSON.parse(saved));
        }
      }, []);

      // Save preferences to localStorage
      useEffect(() => {
        if (Object.keys(preferences).length > 0) {
          localStorage.setItem('questionPreferences', JSON.stringify(preferences));
        }
      }, [preferences]);

      // Learning algorithm: adjust question selection based on preferences
      const getNextQuestions = (likedCategory) => {
        const categoryScores = { ...preferences };
        
        if (likedCategory) {
          categoryScores[likedCategory] = (categoryScores[likedCategory] || 0) + 1;
        }
        
        setPreferences(categoryScores);
        
        // Sort remaining questions by category preference
        const remaining = initialQuestions.filter(q => 
          !questions.slice(0, currentIndex + 1).includes(q)
        );
        
        const sorted = remaining.sort((a, b) => {
          const scoreA = categoryScores[a.category] || 0;
          const scoreB = categoryScores[b.category] || 0;
          return scoreB - scoreA;
        });
        
        // Add some randomness to avoid being too predictable
        const topQuestions = sorted.slice(0, 10);
        const shuffled = topQuestions.sort(() => Math.random() - 0.5);
        
        return [...questions.slice(0, currentIndex + 1), ...shuffled, ...sorted.slice(10)];
      };

      const handleSwipe = (direction) => {
        const currentQuestion = questions[currentIndex];
        
        if (direction === 'right') {
          setLikes(prev => prev + 1);
          const updated = getNextQuestions(currentQuestion.category);
          setQuestions(updated);
        } else {
          setDislikes(prev => prev + 1);
        }
        
        // Add exit animation
        if (cardRef.current) {
          cardRef.current.classList.add('card-exit');
        }
        
        setTimeout(() => {
          setCurrentIndex(prev => prev + 1);
          setDragOffset({ x: 0, y: 0 });
          setSwipeDirection(null);
          if (cardRef.current) {
            cardRef.current.classList.remove('card-exit');
          }
        }, 300);
      };

      // Touch and mouse event handlers
      const handleStart = (e) => {
        setIsDragging(true);
        const clientX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
        const clientY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;
        startPosRef.current = { x: clientX, y: clientY };
      };

      const handleMove = (e) => {
        if (!isDragging) return;
        
        const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
        const clientY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;
        
        const deltaX = clientX - startPosRef.current.x;
        const deltaY = clientY - startPosRef.current.y;
        
        setDragOffset({ x: deltaX, y: deltaY });
        
        // Show swipe indicators
        if (Math.abs(deltaX) > 50) {
          setSwipeDirection(deltaX > 0 ? 'right' : 'left');
        } else {
          setSwipeDirection(null);
        }
      };

      const handleEnd = () => {
        setIsDragging(false);
        
        // Trigger swipe if dragged far enough
        if (Math.abs(dragOffset.x) > 100) {
          handleSwipe(dragOffset.x > 0 ? 'right' : 'left');
        } else {
          setDragOffset({ x: 0, y: 0 });
          setSwipeDirection(null);
        }
      };

      const [isGenerating, setIsGenerating] = useState(false);
      const [generatedQuestions, setGeneratedQuestions] = useState([]);

      const generateNewQuestions = async () => {
        setIsGenerating(true);
        
        try {
          // Get liked questions for context
          const likedQuestions = questions
            .slice(0, currentIndex)
            .filter((_, idx) => {
              // Track which questions were liked based on swipe history
              // This is simplified - in production you'd track this more carefully
              return true; // We'll use preferences instead
            });

          // Get top preferred categories
          const sortedCategories = Object.entries(preferences)
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5)
            .map(([cat]) => cat);

          const categoryContext = sortedCategories.length > 0 
            ? `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–π–±—ñ–ª—å—à–µ –ª—é–±–∏—Ç—å –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ: ${sortedCategories.join(', ')}.`
            : '';

          // Get sample liked questions
          const sampleQuestions = questions
            .filter(q => sortedCategories.includes(q.category))
            .slice(0, 5)
            .map(q => q.text);

          const prompt = `–¢–∏ –ø–æ–º—ñ—á–Ω–∏–∫, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Ä–æ–∑–º–æ–≤ –º—ñ–∂ –¥—Ä—É–∑—è–º–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é.

${categoryContext}

–û—Å—å –ø—Ä–∏–∫–ª–∞–¥–∏ –ø–∏—Ç–∞–Ω—å, —è–∫—ñ —Å–ø–æ–¥–æ–±–∞–ª–∏—Å—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É:
${sampleQuestions.map(q => `- ${q}`).join('\n')}

–°—Ç–≤–æ—Ä–∏ 40 –Ω–æ–≤–∏—Ö —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é –¥–ª—è –¥—Ä—É–∑—ñ–≤, —è–∫—ñ:
1. –°—Ö–æ–∂—ñ –∑–∞ —Å—Ç–∏–ª–µ–º —ñ —Ç–µ–º–∞—Ç–∏–∫–æ—é –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏—â–µ
2. –í–∏–∫–ª–∏–∫–∞—é—Ç—å –≥–ª–∏–±–æ–∫—ñ —Ä–æ–∑–º–æ–≤–∏
3. –ù–µ –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è –∑ —ñ—Å–Ω—É—é—á–∏–º–∏
4. –ü—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ—ó –¥—Ä—É–∑—ñ–≤

–í–ê–ñ–õ–ò–í–û: –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON –º–∞—Å–∏–≤—É –æ–±'—î–∫—Ç—ñ–≤, –±–µ–∑ –∂–æ–¥–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç—É, –ø–æ—è—Å–Ω–µ–Ω—å —á–∏ markdown –∫–æ–¥—É. –§–æ—Ä–º–∞—Ç:
[{"text":"–ü–∏—Ç–∞–Ω–Ω—è —Ç—É—Ç?","category":"dreams"},{"text":"–©–µ –ø–∏—Ç–∞–Ω–Ω—è?","category":"life"}]

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Ü—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó: dreams, life, experiences, fears, memories, relationships, culture, growth, happiness, wisdom, identity, future, motivation, courage, interests, decisions, emotions, observations, kindness, values, aspirations, travel, self, humor`;

          const response = await fetch('https://api.anthropic.com/v1/messages', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              model: 'claude-sonnet-4-20250514',
              max_tokens: 1000,
              messages: [
                { role: 'user', content: prompt }
              ]
            })
          });

          const data = await response.json();
          const responseText = data.content
            .filter(item => item.type === 'text')
            .map(item => item.text)
            .join('');

          // Clean response and parse JSON
          const cleanedText = responseText
            .replace(/```json/g, '')
            .replace(/```/g, '')
            .trim();

          const newQuestions = JSON.parse(cleanedText);
          
          if (Array.isArray(newQuestions) && newQuestions.length > 0) {
            setGeneratedQuestions(newQuestions);
            setQuestions(newQuestions);
            setCurrentIndex(0);
            setLikes(0);
            setDislikes(0);
          } else {
            throw new Error('Invalid response format');
          }
        } catch (error) {
          console.error('Error generating questions:', error);
          alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω—å. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
        } finally {
          setIsGenerating(false);
        }
      };

      // Reset when all questions are done
      if (currentIndex >= questions.length) {
        return (
          <div className="container">
            <div className="header">
              <h1>–ì–æ—Ç–æ–≤–æ! üéâ</h1>
              <p>–¢–∏ –ø–µ—Ä–µ–≥–ª—è–Ω—É–≤ —É—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è</p>
            </div>
            <div className="stats">
              <p>–í–ø–æ–¥–æ–±–∞–Ω–æ: {likes} | –ù–µ —Å–ø–æ–¥–æ–±–∞–ª–æ—Å—å: {dislikes}</p>
              <p style={{ fontSize: '0.9rem', marginTop: '10px', marginBottom: '15px' }}>
                üí° –ù–∞—Ç–∏—Å–Ω–∏ "–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏", —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–≤–æ—ó—Ö –≤–ø–æ–¥–æ–±–∞–Ω—å
              </p>
              
              <button 
                onClick={generateNewQuestions}
                disabled={isGenerating}
                style={{
                  marginTop: '20px',
                  padding: '15px 30px',
                  fontSize: '1.1rem',
                  fontFamily: 'Poppins, sans-serif',
                  background: isGenerating ? '#334155' : 'linear-gradient(135deg, var(--accent-green) 0%, var(--accent-gold) 100%)',
                  color: 'white',
                  border: '3px solid var(--accent-gold)',
                  borderRadius: '15px',
                  cursor: isGenerating ? 'not-allowed' : 'pointer',
                  fontWeight: 600,
                  marginRight: '10px',
                  boxShadow: '0 0 20px var(--glow-gold)',
                  transition: 'all 0.3s ease'
                }}
                onMouseOver={(e) => !isGenerating && (e.target.style.boxShadow = '0 0 40px var(--glow-green)')}
                onMouseOut={(e) => !isGenerating && (e.target.style.boxShadow = '0 0 20px var(--glow-gold)')}
              >
                {isGenerating ? '‚è≥ –ì–µ–Ω–µ—Ä—É—é...' : '‚ú® –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ 40 –Ω–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å'}
              </button>

              <button 
                onClick={() => {
                  const shuffled = [...initialQuestions].sort(() => Math.random() - 0.5);
                  setQuestions(shuffled);
                  setCurrentIndex(0);
                  setLikes(0);
                  setDislikes(0);
                }}
                style={{
                  marginTop: '20px',
                  padding: '15px 30px',
                  fontSize: '1.1rem',
                  fontFamily: 'Poppins, sans-serif',
                  background: 'linear-gradient(135deg, var(--accent-red) 0%, var(--accent-gold) 100%)',
                  color: 'white',
                  border: '3px solid var(--accent-red)',
                  borderRadius: '15px',
                  cursor: 'pointer',
                  fontWeight: 600,
                  boxShadow: '0 0 20px var(--glow-red)',
                  transition: 'all 0.3s ease'
                }}
                onMouseOver={(e) => e.target.style.boxShadow = '0 0 40px var(--glow-red)'}
                onMouseOut={(e) => e.target.style.boxShadow = '0 0 20px var(--glow-red)'}
              >
                üîÑ –ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏—Ö
              </button>
            </div>
          </div>
        );
      }

      const currentQuestion = questions[currentIndex];
      const rotation = dragOffset.x * 0.03;
      const opacity = 1 - Math.abs(dragOffset.x) / 300;

      return (
        <div className="container">
          <div className="header">
            <h1>–ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è –¥—Ä—É–∑—ñ–≤</h1>
            <p>–°–º–∞—Ö–Ω–∏ –≤–ø—Ä–∞–≤–æ –∞–±–æ –≤–ª—ñ–≤–æ</p>
          </div>

          <div className="card-container">
            <div
              ref={cardRef}
              className={`question-card ${isDragging ? 'dragging' : ''}`}
              style={{
                transform: `translate(${dragOffset.x}px, ${dragOffset.y}px) rotate(${rotation}deg)`,
                opacity: opacity
              }}
              onMouseDown={handleStart}
              onMouseMove={handleMove}
              onMouseUp={handleEnd}
              onMouseLeave={handleEnd}
              onTouchStart={handleStart}
              onTouchMove={handleMove}
              onTouchEnd={handleEnd}
            >
              <div className="question-number">
                –ü–∏—Ç–∞–Ω–Ω—è {currentIndex + 1} / {questions.length}
              </div>
              <div className="question-text">
                {currentQuestion?.text}
              </div>
            </div>

            <div className="swipe-indicators">
              <div className={`swipe-label dislike ${swipeDirection === 'left' ? 'visible' : ''}`}>
                –ù–Ü
              </div>
              <div className={`swipe-label like ${swipeDirection === 'right' ? 'visible' : ''}`}>
                –¢–ê–ö
              </div>
            </div>
          </div>

          <div className="instructions">
            <p>–°–º–∞—Ö–Ω–∏ –∫–∞—Ä—Ç–∫—É –∞–±–æ –Ω–∞—Ç–∏—Å–Ω–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏</p>
            <div className="swipe-icons">
              <div className="swipe-icon dislike" onClick={() => handleSwipe('left')}>
                <div className="swipe-icon-circle">‚úï</div>
                <span>–ù–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è</span>
              </div>
              <div className="swipe-icon like" onClick={() => handleSwipe('right')}>
                <div className="swipe-icon-circle">‚ô°</div>
                <span>–ü–æ–¥–æ–±–∞—î—Ç—å—Å—è</span>
              </div>
            </div>
          </div>

          <div className="stats">
            <p>–í–ø–æ–¥–æ–±–∞–Ω–æ: {likes} | –ù–µ —Å–ø–æ–¥–æ–±–∞–ª–æ—Å—å: {dislikes}</p>
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>

</body>
</html>